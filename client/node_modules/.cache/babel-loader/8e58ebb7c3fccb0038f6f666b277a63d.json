{"ast":null,"code":"import { API_CALLING, LOGIN_SINH_VIEN, SIGNUP_SINH_VIEN, SIGNUP_ERROR, LOGIN_ERROR, DANG_KI_PHONG } from './types';\nimport axios from 'axios';\nexport var loginSinhVien = function loginSinhVien(email, matKhauSinhVien) {\n  return function (dispatch) {\n    dispatch({\n      type: API_CALLING\n    }, console.log(\"LOGIN_SINH_VIEN\"));\n    axios.post('/api/sinhvien/login', {\n      emailSinhVien: email,\n      matKhauSinhVien: matKhauSinhVien\n    }).then(function (response) {\n      return dispatch({\n        type: LOGIN_SINH_VIEN,\n        payload: response.data\n      });\n    }).catch(function (err) {\n      if (err.response.status == \"401\") {\n        dispatch({\n          type: LOGIN_ERROR,\n          payload: {\n            err: err.response.status,\n            message: \"Email không tồn tại\"\n          }\n        });\n      } else if (err.response.status == \"402\") {\n        dispatch({\n          type: LOGIN_ERROR,\n          payload: {\n            err: err.response.status,\n            message: \"Mật khẩu không chính xác\"\n          }\n        });\n      }\n    });\n  };\n};\nexport var signUpSinhVien = function signUpSinhVien(tenSinhVien, email, matKhau, gioiTinh) {\n  return function (dispatch) {\n    dispatch({\n      type: API_CALLING\n    }, console.log(\"SIGNUP_SINH_VIEN\"));\n    axios.post('/api/sinhvien/signup', {\n      tenSinhVien: tenSinhVien,\n      emailSinhVien: email,\n      matKhauSinhVien: matKhau,\n      gioiTinh: gioiTinh\n    }).then(function (response) {\n      return dispatch({\n        type: SIGNUP_SINH_VIEN,\n        payload: response.data\n      });\n    }).catch(function (err) {\n      if (err.response.status == \"401\") {\n        dispatch({\n          type: SIGNUP_ERROR,\n          payload: {\n            err: err.response.status,\n            message: \"Email đã có người sử dụng\"\n          }\n        });\n      }\n    });\n  };\n};\nexport var dangKiPhong = function dangKiPhong(phongId, ngayDangKi) {\n  return function (dispatch) {\n    dispatch({\n      type: API_CALLING\n    }, console.log(\"SIGNUP_SINH_VIEN\"));\n    axios.defaults.headers.common['Authorization'] = \"Bearer \" + localStorage.getItem('token');\n    axios.post('/api/sinhvien/themdondangki', {\n      phongId: phongId,\n      ngayDangKi: ngayDangKi\n    }).then(function (res) {\n      dispatch({\n        type: DANG_KI_PHONG,\n        payload: res.data\n      }).catch(function (err) {\n        if (err.response.status == \"401\") {\n          dispatch({\n            type: DANG_KI_PHONG,\n            payload: {\n              success: false\n            }\n          });\n        }\n      });\n    });\n  };\n};","map":{"version":3,"sources":["/home/mung_nguyen/20182/Project/Code/DormitoryManagement/client/src/actions/sinhVienAction.js"],"names":["API_CALLING","LOGIN_SINH_VIEN","SIGNUP_SINH_VIEN","SIGNUP_ERROR","LOGIN_ERROR","DANG_KI_PHONG","axios","loginSinhVien","email","matKhauSinhVien","dispatch","type","console","log","post","emailSinhVien","then","response","payload","data","catch","err","status","message","signUpSinhVien","tenSinhVien","matKhau","gioiTinh","dangKiPhong","phongId","ngayDangKi","defaults","headers","common","localStorage","getItem","res","success"],"mappings":"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","sourcesContent":["import { API_CALLING, LOGIN_SINH_VIEN, SIGNUP_SINH_VIEN, SIGNUP_ERROR, LOGIN_ERROR, DANG_KI_PHONG } from './types';\nimport axios from 'axios';\n\nexport const loginSinhVien = (email, matKhauSinhVien) => dispatch => {\n    dispatch({\n        type: API_CALLING\n    },\n        console.log(\"LOGIN_SINH_VIEN\")\n    )\n    axios.post('/api/sinhvien/login', {\n        emailSinhVien: email,\n        matKhauSinhVien: matKhauSinhVien\n    }).then(response => dispatch({\n        type: LOGIN_SINH_VIEN,\n        payload: response.data\n    })).catch(err => {\n        if (err.response.status == \"401\") {\n            dispatch({\n                type: LOGIN_ERROR,\n                payload: {\n                    err: err.response.status,\n                    message: \"Email không tồn tại\"\n                }\n            })\n        } else if (err.response.status == \"402\") {\n            dispatch({\n                type: LOGIN_ERROR,\n                payload: {\n                    err: err.response.status,\n                    message: \"Mật khẩu không chính xác\"\n                }\n            })\n        }\n    })\n}\n\nexport const signUpSinhVien = (tenSinhVien, email, matKhau, gioiTinh) => dispatch => {\n    dispatch({\n        type: API_CALLING\n    },\n        console.log(\"SIGNUP_SINH_VIEN\")\n    )\n    axios.post('/api/sinhvien/signup', {\n        tenSinhVien: tenSinhVien,\n        emailSinhVien: email,\n        matKhauSinhVien: matKhau,\n        gioiTinh: gioiTinh\n    }).then(response => dispatch({\n        type: SIGNUP_SINH_VIEN,\n        payload: response.data\n    })).catch(err => {\n        if (err.response.status == \"401\") {\n            dispatch({\n                type: SIGNUP_ERROR,\n                payload: {\n                    err: err.response.status,\n                    message: \"Email đã có người sử dụng\"\n                }\n            })\n        }\n    })\n}\n\nexport const dangKiPhong = (phongId, ngayDangKi) => dispatch => {\n    dispatch({\n        type: API_CALLING\n    },\n        console.log(\"SIGNUP_SINH_VIEN\")\n    );\n\n    axios.defaults.headers.common['Authorization'] = \"Bearer \" + localStorage.getItem('token');\n    axios.post('/api/sinhvien/themdondangki', {\n        phongId: phongId,\n        ngayDangKi: ngayDangKi\n    }).then(res => {\n        dispatch({\n            type: DANG_KI_PHONG,\n            payload: res.data\n        }).catch(err => {\n            if (err.response.status == \"401\") {\n                dispatch({\n                    type: DANG_KI_PHONG,\n                    payload: {\n                        success: false\n                    }\n                })\n            }\n        })\n    })\n\n}"]},"metadata":{},"sourceType":"module"}