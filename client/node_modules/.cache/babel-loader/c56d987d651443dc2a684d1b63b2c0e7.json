{"ast":null,"code":"import _classCallCheck from \"/home/mung_nguyen/20182/Project/Code/DormitoryManagement/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/mung_nguyen/20182/Project/Code/DormitoryManagement/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/mung_nguyen/20182/Project/Code/DormitoryManagement/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/mung_nguyen/20182/Project/Code/DormitoryManagement/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/mung_nguyen/20182/Project/Code/DormitoryManagement/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/mung_nguyen/20182/Project/Code/DormitoryManagement/client/src/components/sinhvien/login.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link, withRouter, Redirect } from 'react-router-dom';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, Input } from 'reactstrap';\nimport { loginSinhVien, signUpSinhVien } from '../../actions/sinhVienAction';\nimport '../../css/sinhVienLogin/style.css';\n\nvar LoginSinhVien =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LoginSinhVien, _Component);\n\n  function LoginSinhVien(props) {\n    var _this;\n\n    _classCallCheck(this, LoginSinhVien);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LoginSinhVien).call(this, props));\n\n    _this.componentWillReceiveProps = function (nextProps) {\n      if (nextProps.sinhVien.callapidone) {\n        if (nextProps.sinhVien.signUpSuccess || nextProps.sinhVien.loginSucces) {\n          console.log(\"SignUp Success\");\n          localStorage.setItem(\"signined\", nextProps.sinhVien.acc.success);\n          localStorage.setItem(\"userId\", nextProps.sinhVien.acc.data.sinhVienId);\n          localStorage.setItem(\"email\", nextProps.sinhVien.acc.data.emailSinhVien);\n          localStorage.setItem(\"tenSinhVien\", nextProps.sinhVien.acc.data.tenSinhVien);\n          localStorage.setItem(\"token\", nextProps.sinhVien.acc.token);\n          localStorage.setItem(\"gioiTinh\", nextProps.sinhVien.acc.data.gioiTinh);\n          localStorage.setItem(\"role\", \"sinhvien\");\n\n          _this.props.history.push('/home');\n        } else {\n          if (!_this.state.signUpError) {\n            _this.setState({\n              openErrorModal: true,\n              signUpError: true\n            });\n          }\n        }\n      }\n    };\n\n    _this.onClickSignUp = function () {\n      _this.refs.cont.classList.toggle('s--signup');\n    };\n\n    _this.thayDoiTenSinhVien = function (event) {\n      _this.setState({\n        tenSinhVien: event.target.value\n      }, function () {\n        return _this.setState({\n          tenTrong: _this.state.tenSinhVien.length > 0 ? false : true\n        });\n      });\n    };\n\n    _this.thayDoiEmail = function (event) {\n      _this.setState({\n        email: event.target.value\n      }, function () {\n        return _this.setState({\n          emailTrong: _this.state.email.length > 0 ? false : true\n        });\n      });\n    };\n\n    _this.thayDoiGioiTinh = function (event) {\n      _this.setState({\n        gioiTinh: event.target.value\n      });\n    };\n\n    _this.nhapMatKhau = function (event) {\n      _this.setState({\n        matKhau: event.target.value\n      }, function () {\n        return _this.setState({\n          matKhauTrong: _this.state.matKhau.length > 0 ? false : true\n        });\n      });\n    };\n\n    _this.xacNhanMatKhau = function (event) {\n      _this.setState({\n        xacNhan: event.target.value\n      }, function () {\n        return _this.setState({\n          xacNhanTrong: _this.state.xacNhan.length > 0 ? false : true,\n          trungNhau: _this.state.matKhau.indexOf(_this.state.xacNhan) == 0 ? true : false\n        });\n      });\n    };\n\n    _this.dangKi = function () {\n      if (_this.state.tenSinhVien && _this.state.email && _this.state.matKhau && _this.state.gioiTinh) {\n        _this.props.signUp(_this.state.tenSinhVien, _this.state.email, _this.state.matKhau, _this.state.gioiTinh);\n      }\n\n      _this.setState({\n        tenSinhVien: \"\",\n        email: \"\",\n        gioiTinh: \"Nam\",\n        matKhau: \"\",\n        xacNhan: \"\"\n      });\n    };\n\n    _this.dangNhap = function () {\n      if (_this.state.email && _this.state.matKhau) {\n        _this.props.login(_this.state.email, _this.state.matKhau);\n\n        _this.setState({\n          email: \"\",\n          matKhau: \"\"\n        });\n      }\n    };\n\n    _this.closeOpenErrorModal = function () {\n      _this.setState({\n        openErrorModal: false,\n        tenSinhVien: \"\",\n        email: \"\",\n        gioiTinh: \"Nam\",\n        matKhau: \"\",\n        xacNhan: \"\"\n      });\n    };\n\n    _this.state = {\n      tenSinhVien: \"\",\n      tenTrong: false,\n      email: \"\",\n      emailTrong: false,\n      gioiTinh: \"Nam\",\n      matKhau: \"\",\n      matKhauTrong: false,\n      xacNhan: \"\",\n      xacNhanTrong: false,\n      trungNhau: true,\n      signUpError: false,\n      openErrorModal: false\n    };\n    return _this;\n  }\n\n  _createClass(LoginSinhVien, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cont\",\n        ref: \"cont\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form sign-in\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: {\n          color: \"black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"input\", {\n        type: \"email\",\n        onChange: this.thayDoiEmail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }), this.state.emailTrong ? React.createElement(\"span\", {\n        style: {\n          color: \"red\",\n          fontSize: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-exclamation-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        style: {\n          color: \"red\",\n          fontSize: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \" Email tr\\u1ED1ng\")) : null), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: {\n          color: \"black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"M\\u1EADt kh\\u1EA9u\"), React.createElement(\"input\", {\n        type: \"password\",\n        onChange: this.nhapMatKhau,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }), this.state.matKhauTrong ? React.createElement(\"span\", {\n        style: {\n          color: \"red\",\n          fontSize: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-exclamation-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        style: {\n          color: \"red\",\n          fontSize: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \" M\\u1EADt kh\\u1EA9u tr\\u1ED1ng\")) : null), React.createElement(\"p\", {\n        className: \"forgot-pass\",\n        style: {\n          color: \"black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"Qu\\xEAn m\\u1EADt kh\\u1EA9u?\"), React.createElement(\"button\", {\n        type: \"button\",\n        class: \"submit\",\n        onClick: this.dangNhap,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, \"\\u0110\\u0103ng nh\\u1EADp\"))), React.createElement(\"div\", {\n        className: \"sub-cont\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"img\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"img__text m--up\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"HUST\")), React.createElement(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        style: {\n          color: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \"M\\u1ED9t t\\xECnh y\\xEAu - M\\u1ED9t t\\u01B0\\u01A1ng lai\"))), React.createElement(\"div\", {\n        className: \"img__text m--in\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"HUST\"), React.createElement(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        style: {\n          color: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"M\\u1ED9t t\\xECnh y\\xEAu - M\\u1ED9t t\\u01B0\\u01A1ng lai\"))), React.createElement(\"div\", {\n        className: \"img__btn\",\n        onClick: this.onClickSignUp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        class: \"m--up\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \"\\u0110\\u0103ng k\\xED\"), React.createElement(\"span\", {\n        class: \"m--in\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, \"\\u0110\\u0103ng nh\\u1EADp\"))), React.createElement(\"div\", {\n        className: \"form sign-up\",\n        style: {\n          marginTop: \"-0.5em\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: {\n          color: \"black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, \"H\\u1ECD v\\xE0 T\\xEAn\"), React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.tenSinhVien,\n        onChange: this.thayDoiTenSinhVien,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }), this.state.tenTrong ? React.createElement(\"span\", {\n        style: {\n          color: \"red\",\n          fontSize: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-exclamation-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        style: {\n          color: \"red\",\n          fontSize: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, \" H\\u1ECD v\\xE0 t\\xEAn tr\\u1ED1ng\")) : null), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: {\n          color: \"black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"input\", {\n        type: \"email\",\n        value: this.state.email,\n        onChange: this.thayDoiEmail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }), this.state.emailTrong ? React.createElement(\"span\", {\n        style: {\n          color: \"red\",\n          fontSize: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-exclamation-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        style: {\n          color: \"red\",\n          fontSize: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \" Email tr\\u1ED1ng\")) : null), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: {\n          color: \"black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, \"Gi\\u1EDBi t\\xEDnh  \"), React.createElement(\"select\", {\n        onChange: this.thayDoiGioiTinh,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"Nam\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, \"Nam\"), React.createElement(\"option\", {\n        value: \"N\\u1EEF\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, \"N\\u1EEF\"))), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: {\n          color: \"black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, \"M\\u1EADt kh\\u1EA9u\"), React.createElement(\"input\", {\n        type: \"password\",\n        onChange: this.nhapMatKhau,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }), this.state.matKhauTrong ? React.createElement(\"span\", {\n        style: {\n          color: \"red\",\n          fontSize: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-exclamation-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        style: {\n          color: \"red\",\n          fontSize: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, \" M\\u1EADt kh\\u1EA9u tr\\u1ED1ng\")) : null), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: {\n          color: \"black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, \"X\\xE1c nh\\u1EADn m\\u1EADt kh\\u1EA9u\"), React.createElement(\"input\", {\n        type: \"password\",\n        onChange: this.xacNhanMatKhau,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }), this.state.xacNhanTrong ? React.createElement(\"span\", {\n        style: {\n          color: \"red\",\n          fontSize: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-exclamation-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        style: {\n          color: \"red\",\n          fontSize: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, \" X\\xE1c nh\\u1EADn m\\u1EADt kh\\u1EA9u tr\\u1ED1ng\")) : null, !this.state.trungNhau ? React.createElement(\"span\", {\n        style: {\n          color: \"red\",\n          fontSize: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-exclamation-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        style: {\n          color: \"red\",\n          fontSize: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, \"X\\xE1c nh\\u1EADn kh\\xF4ng th\\xE0nh c\\xF4ng\")) : null), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"submit\",\n        onClick: this.dangKi,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, \"\\u0110\\u0103ng k\\xED\"))), React.createElement(Modal, {\n        isOpen: this.state.openErrorModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, React.createElement(ModalBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, this.props.sinhVien.message), React.createElement(ModalFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, React.createElement(Button, {\n        outline: true,\n        color: \"primary\",\n        onClick: this.closeOpenErrorModal,\n        style: {\n          width: \"50px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, \"OK\"))))));\n    }\n  }]);\n\n  return LoginSinhVien;\n}(Component);\n\nvar mapStatetoProps = function mapStatetoProps(state) {\n  return {\n    sinhVien: state.sinhVien\n  };\n};\n\nvar mapActiontoProps = function mapActiontoProps(dispatch) {\n  return {\n    login: function login(email, pass) {\n      return dispatch(loginSinhVien(email, pass));\n    },\n    signUp: function signUp(tenSinhVien, email, pass, gioiTinh) {\n      return dispatch(signUpSinhVien(tenSinhVien, email, pass, gioiTinh));\n    }\n  };\n};\n\nexport default withRouter(connect(mapStatetoProps, mapActiontoProps)(LoginSinhVien));","map":{"version":3,"sources":["/home/mung_nguyen/20182/Project/Code/DormitoryManagement/client/src/components/sinhvien/login.js"],"names":["React","Component","connect","Link","withRouter","Redirect","Modal","ModalHeader","ModalBody","ModalFooter","Button","Form","Input","loginSinhVien","signUpSinhVien","LoginSinhVien","props","componentWillReceiveProps","nextProps","sinhVien","callapidone","signUpSuccess","loginSucces","console","log","localStorage","setItem","acc","success","data","sinhVienId","emailSinhVien","tenSinhVien","token","gioiTinh","history","push","state","signUpError","setState","openErrorModal","onClickSignUp","refs","cont","classList","toggle","thayDoiTenSinhVien","event","target","value","tenTrong","length","thayDoiEmail","email","emailTrong","thayDoiGioiTinh","nhapMatKhau","matKhau","matKhauTrong","xacNhanMatKhau","xacNhan","xacNhanTrong","trungNhau","indexOf","dangKi","signUp","dangNhap","login","closeOpenErrorModal","color","fontSize","marginTop","message","width","mapStatetoProps","mapActiontoProps","dispatch","pass"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,IAAT,EAAeC,UAAf,EAA2BC,QAA3B,QAA2C,kBAA3C;AACA,SAASC,KAAT,EAAgBC,WAAhB,EAA6BC,SAA7B,EAAwCC,WAAxC,EAAqDC,MAArD,EAA6DC,IAA7D,EAAmEC,KAAnE,QAAgF,YAAhF;AACA,SAASC,aAAT,EAAwBC,cAAxB,QAA8C,8BAA9C;AACA,OAAO,mCAAP;;IAEMC,a;;;;;AACF,yBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,uFAAMA,KAAN;;AADe,UAmBnBC,yBAnBmB,GAmBS,UAACC,SAAD,EAAe;AACvC,UAAIA,SAAS,CAACC,QAAV,CAAmBC,WAAvB,EAAoC;AAChC,YAAIF,SAAS,CAACC,QAAV,CAAmBE,aAAnB,IAAoCH,SAAS,CAACC,QAAV,CAAmBG,WAA3D,EAAwE;AACpEC,UAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAC,UAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCR,SAAS,CAACC,QAAV,CAAmBQ,GAAnB,CAAuBC,OAAxD;AACAH,UAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BR,SAAS,CAACC,QAAV,CAAmBQ,GAAnB,CAAuBE,IAAvB,CAA4BC,UAA3D;AACAL,UAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BR,SAAS,CAACC,QAAV,CAAmBQ,GAAnB,CAAuBE,IAAvB,CAA4BE,aAA1D;AACAN,UAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCR,SAAS,CAACC,QAAV,CAAmBQ,GAAnB,CAAuBE,IAAvB,CAA4BG,WAAhE;AACAP,UAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BR,SAAS,CAACC,QAAV,CAAmBQ,GAAnB,CAAuBM,KAArD;AACAR,UAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCR,SAAS,CAACC,QAAV,CAAmBQ,GAAnB,CAAuBE,IAAvB,CAA4BK,QAA7D;AACAT,UAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6B,UAA7B;;AACA,gBAAKV,KAAL,CAAWmB,OAAX,CAAmBC,IAAnB,CAAwB,OAAxB;AACH,SAVD,MAUO;AACH,cAAI,CAAC,MAAKC,KAAL,CAAWC,WAAhB,EAA6B;AACzB,kBAAKC,QAAL,CAAc;AACVC,cAAAA,cAAc,EAAE,IADN;AAEVF,cAAAA,WAAW,EAAE;AAFH,aAAd;AAIH;AACJ;AACJ;AACJ,KAxCkB;;AAAA,UA0CnBG,aA1CmB,GA0CH,YAAM;AAClB,YAAKC,IAAL,CAAUC,IAAV,CAAeC,SAAf,CAAyBC,MAAzB,CAAgC,WAAhC;AACH,KA5CkB;;AAAA,UA8CnBC,kBA9CmB,GA8CE,UAAAC,KAAK,EAAI;AAC1B,YAAKR,QAAL,CAAc;AACVP,QAAAA,WAAW,EAAEe,KAAK,CAACC,MAAN,CAAaC;AADhB,OAAd,EAGI;AAAA,eAAM,MAAKV,QAAL,CAAc;AAChBW,UAAAA,QAAQ,EAAE,MAAKb,KAAL,CAAWL,WAAX,CAAuBmB,MAAvB,GAAgC,CAAhC,GAAoC,KAApC,GAA4C;AADtC,SAAd,CAAN;AAAA,OAHJ;AAOH,KAtDkB;;AAAA,UAwDnBC,YAxDmB,GAwDJ,UAAAL,KAAK,EAAI;AACpB,YAAKR,QAAL,CAAc;AACVc,QAAAA,KAAK,EAAEN,KAAK,CAACC,MAAN,CAAaC;AADV,OAAd,EAGI;AAAA,eAAM,MAAKV,QAAL,CAAc;AAChBe,UAAAA,UAAU,EAAE,MAAKjB,KAAL,CAAWgB,KAAX,CAAiBF,MAAjB,GAA0B,CAA1B,GAA8B,KAA9B,GAAsC;AADlC,SAAd,CAAN;AAAA,OAHJ;AAOH,KAhEkB;;AAAA,UAkEnBI,eAlEmB,GAkED,UAAAR,KAAK,EAAI;AACvB,YAAKR,QAAL,CAAc;AACVL,QAAAA,QAAQ,EAAEa,KAAK,CAACC,MAAN,CAAaC;AADb,OAAd;AAGH,KAtEkB;;AAAA,UAwEnBO,WAxEmB,GAwEL,UAAAT,KAAK,EAAI;AACnB,YAAKR,QAAL,CAAc;AACVkB,QAAAA,OAAO,EAAEV,KAAK,CAACC,MAAN,CAAaC;AADZ,OAAd,EAGI;AAAA,eAAM,MAAKV,QAAL,CAAc;AAChBmB,UAAAA,YAAY,EAAE,MAAKrB,KAAL,CAAWoB,OAAX,CAAmBN,MAAnB,GAA4B,CAA5B,GAAgC,KAAhC,GAAwC;AADtC,SAAd,CAAN;AAAA,OAHJ;AAOH,KAhFkB;;AAAA,UAkFnBQ,cAlFmB,GAkFF,UAAAZ,KAAK,EAAI;AACtB,YAAKR,QAAL,CAAc;AACVqB,QAAAA,OAAO,EAAEb,KAAK,CAACC,MAAN,CAAaC;AADZ,OAAd,EAGI;AAAA,eAAM,MAAKV,QAAL,CAAc;AAChBsB,UAAAA,YAAY,EAAE,MAAKxB,KAAL,CAAWuB,OAAX,CAAmBT,MAAnB,GAA4B,CAA5B,GAAgC,KAAhC,GAAwC,IADtC;AAEhBW,UAAAA,SAAS,EAAE,MAAKzB,KAAL,CAAWoB,OAAX,CAAmBM,OAAnB,CAA2B,MAAK1B,KAAL,CAAWuB,OAAtC,KAAkD,CAAlD,GAAsD,IAAtD,GAA6D;AAFxD,SAAd,CAAN;AAAA,OAHJ;AAQH,KA3FkB;;AAAA,UA6FnBI,MA7FmB,GA6FV,YAAM;AACX,UAAI,MAAK3B,KAAL,CAAWL,WAAX,IAA0B,MAAKK,KAAL,CAAWgB,KAArC,IAA8C,MAAKhB,KAAL,CAAWoB,OAAzD,IAAoE,MAAKpB,KAAL,CAAWH,QAAnF,EAA6F;AACzF,cAAKlB,KAAL,CAAWiD,MAAX,CAAkB,MAAK5B,KAAL,CAAWL,WAA7B,EAA0C,MAAKK,KAAL,CAAWgB,KAArD,EAA4D,MAAKhB,KAAL,CAAWoB,OAAvE,EAAgF,MAAKpB,KAAL,CAAWH,QAA3F;AACH;;AACD,YAAKK,QAAL,CAAc;AACVP,QAAAA,WAAW,EAAE,EADH;AAEVqB,QAAAA,KAAK,EAAE,EAFG;AAGVnB,QAAAA,QAAQ,EAAE,KAHA;AAIVuB,QAAAA,OAAO,EAAE,EAJC;AAKVG,QAAAA,OAAO,EAAE;AALC,OAAd;AAOH,KAxGkB;;AAAA,UA0GnBM,QA1GmB,GA0GR,YAAM;AACb,UAAI,MAAK7B,KAAL,CAAWgB,KAAX,IAAoB,MAAKhB,KAAL,CAAWoB,OAAnC,EAA4C;AACxC,cAAKzC,KAAL,CAAWmD,KAAX,CAAiB,MAAK9B,KAAL,CAAWgB,KAA5B,EAAmC,MAAKhB,KAAL,CAAWoB,OAA9C;;AACA,cAAKlB,QAAL,CAAc;AACVc,UAAAA,KAAK,EAAE,EADG;AAEVI,UAAAA,OAAO,EAAE;AAFC,SAAd;AAIH;AACJ,KAlHkB;;AAAA,UAoHnBW,mBApHmB,GAoHG,YAAM;AACxB,YAAK7B,QAAL,CAAc;AACVC,QAAAA,cAAc,EAAE,KADN;AAEVR,QAAAA,WAAW,EAAE,EAFH;AAGVqB,QAAAA,KAAK,EAAE,EAHG;AAIVnB,QAAAA,QAAQ,EAAE,KAJA;AAKVuB,QAAAA,OAAO,EAAE,EALC;AAMVG,QAAAA,OAAO,EAAE;AANC,OAAd;AAQH,KA7HkB;;AAGf,UAAKvB,KAAL,GAAa;AACTL,MAAAA,WAAW,EAAE,EADJ;AAETkB,MAAAA,QAAQ,EAAE,KAFD;AAGTG,MAAAA,KAAK,EAAE,EAHE;AAITC,MAAAA,UAAU,EAAE,KAJH;AAKTpB,MAAAA,QAAQ,EAAE,KALD;AAMTuB,MAAAA,OAAO,EAAE,EANA;AAOTC,MAAAA,YAAY,EAAE,KAPL;AAQTE,MAAAA,OAAO,EAAE,EARA;AASTC,MAAAA,YAAY,EAAE,KATL;AAUTC,MAAAA,SAAS,EAAE,IAVF;AAWTxB,MAAAA,WAAW,EAAE,KAXJ;AAYTE,MAAAA,cAAc,EAAE;AAZP,KAAb;AAHe;AAiBlB;;;;6BA8GQ;AACL,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,MAAf;AAAsB,QAAA,GAAG,EAAC,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,KAAK,EAAE;AAAE6B,UAAAA,KAAK,EAAE;AAAT,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAEI;AAAO,QAAA,IAAI,EAAC,OAAZ;AAAoB,QAAA,QAAQ,EAAE,KAAKjB,YAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAGK,KAAKf,KAAL,CAAWiB,UAAX,GACG;AAAM,QAAA,KAAK,EAAE;AAAEe,UAAAA,KAAK,EAAE,KAAT;AAAgBC,UAAAA,QAAQ,EAAE;AAA1B,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,SAAS,EAAC,2BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAM,QAAA,KAAK,EAAE;AAAED,UAAAA,KAAK,EAAE,KAAT;AAAgBC,UAAAA,QAAQ,EAAE;AAA1B,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAFJ,CADH,GAKK,IARV,CADJ,EAWI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,KAAK,EAAE;AAAED,UAAAA,KAAK,EAAE;AAAT,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADJ,EAEI;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,QAAQ,EAAE,KAAKb,WAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAGK,KAAKnB,KAAL,CAAWqB,YAAX,GACG;AAAM,QAAA,KAAK,EAAE;AAAEW,UAAAA,KAAK,EAAE,KAAT;AAAgBC,UAAAA,QAAQ,EAAE;AAA1B,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,SAAS,EAAC,2BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAM,QAAA,KAAK,EAAE;AAAED,UAAAA,KAAK,EAAE,KAAT;AAAgBC,UAAAA,QAAQ,EAAE;AAA1B,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAFJ,CADH,GAKK,IARV,CAXJ,EAqBI;AAAG,QAAA,SAAS,EAAC,aAAb;AAA2B,QAAA,KAAK,EAAE;AAAED,UAAAA,KAAK,EAAE;AAAT,SAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCArBJ,EAsBI;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,KAAK,EAAC,QAA5B;AAAqC,QAAA,OAAO,EAAE,KAAKH,QAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA6D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAA7D,CAtBJ,CADJ,EAyBI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAJ,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,KAAK,EAAE;AAAEG,UAAAA,KAAK,EAAE;AAAT,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kEADJ,CAFJ,CADJ,EAOI;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,KAAK,EAAE;AAAEA,UAAAA,KAAK,EAAE;AAAT,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kEADJ,CAFJ,CAPJ,EAaI;AAAK,QAAA,SAAS,EAAC,UAAf;AAA0B,QAAA,OAAO,EAAE,KAAK5B,aAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,KAAK,EAAC,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADJ,EAEI;AAAM,QAAA,KAAK,EAAC,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAFJ,CAbJ,CADJ,EAmBI;AAAK,QAAA,SAAS,EAAC,cAAf;AAA8B,QAAA,KAAK,EAAE;AAAE8B,UAAAA,SAAS,EAAE;AAAb,SAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,KAAK,EAAE;AAAEF,UAAAA,KAAK,EAAE;AAAT,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADJ,EAEI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,KAAK,EAAE,KAAKhC,KAAL,CAAWL,WAArC;AAAkD,QAAA,QAAQ,EAAE,KAAKc,kBAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAGK,KAAKT,KAAL,CAAWa,QAAX,GACG;AAAM,QAAA,KAAK,EAAE;AAAEmB,UAAAA,KAAK,EAAE,KAAT;AAAgBC,UAAAA,QAAQ,EAAE;AAA1B,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,SAAS,EAAC,2BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAM,QAAA,KAAK,EAAE;AAAED,UAAAA,KAAK,EAAE,KAAT;AAAgBC,UAAAA,QAAQ,EAAE;AAA1B,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAFJ,CADH,GAKK,IARV,CADJ,EAWI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,KAAK,EAAE;AAAED,UAAAA,KAAK,EAAE;AAAT,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAEI;AAAO,QAAA,IAAI,EAAC,OAAZ;AAAoB,QAAA,KAAK,EAAE,KAAKhC,KAAL,CAAWgB,KAAtC;AAA6C,QAAA,QAAQ,EAAE,KAAKD,YAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAGK,KAAKf,KAAL,CAAWiB,UAAX,GACG;AAAM,QAAA,KAAK,EAAE;AAAEe,UAAAA,KAAK,EAAE,KAAT;AAAgBC,UAAAA,QAAQ,EAAE;AAA1B,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,SAAS,EAAC,2BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAM,QAAA,KAAK,EAAE;AAAED,UAAAA,KAAK,EAAE,KAAT;AAAgBC,UAAAA,QAAQ,EAAE;AAA1B,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAFJ,CADH,GAKK,IARV,CAXJ,EAqBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,KAAK,EAAE;AAAED,UAAAA,KAAK,EAAE;AAAT,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADJ,EAEI;AAAQ,QAAA,QAAQ,EAAE,KAAKd,eAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAQ,QAAA,KAAK,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,EAEI;AAAQ,QAAA,KAAK,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFJ,CAFJ,CArBJ,EA4BI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,KAAK,EAAE;AAAEc,UAAAA,KAAK,EAAE;AAAT,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADJ,EAEI;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,QAAQ,EAAE,KAAKb,WAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAGK,KAAKnB,KAAL,CAAWqB,YAAX,GACG;AAAM,QAAA,KAAK,EAAE;AAAEW,UAAAA,KAAK,EAAE,KAAT;AAAgBC,UAAAA,QAAQ,EAAE;AAA1B,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,SAAS,EAAC,2BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAM,QAAA,KAAK,EAAE;AAAED,UAAAA,KAAK,EAAE,KAAT;AAAgBC,UAAAA,QAAQ,EAAE;AAA1B,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAFJ,CADH,GAKK,IARV,CA5BJ,EAsCI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,KAAK,EAAE;AAAED,UAAAA,KAAK,EAAE;AAAT,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CADJ,EAEI;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,QAAQ,EAAE,KAAKV,cAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAGK,KAAKtB,KAAL,CAAWwB,YAAX,GACG;AAAM,QAAA,KAAK,EAAE;AAAEQ,UAAAA,KAAK,EAAE,KAAT;AAAgBC,UAAAA,QAAQ,EAAE;AAA1B,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,SAAS,EAAC,2BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAM,QAAA,KAAK,EAAE;AAAED,UAAAA,KAAK,EAAE,KAAT;AAAgBC,UAAAA,QAAQ,EAAE;AAA1B,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2DAFJ,CADH,GAKK,IARV,EASK,CAAC,KAAKjC,KAAL,CAAWyB,SAAZ,GACG;AAAM,QAAA,KAAK,EAAE;AAAEO,UAAAA,KAAK,EAAE,KAAT;AAAgBC,UAAAA,QAAQ,EAAE;AAA1B,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,SAAS,EAAC,2BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAM,QAAA,KAAK,EAAE;AAAED,UAAAA,KAAK,EAAE,KAAT;AAAgBC,UAAAA,QAAQ,EAAE;AAA1B,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sDAFJ,CADH,GAKK,IAdV,CAtCJ,EAsDI;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,QAAhC;AAAyC,QAAA,OAAO,EAAE,KAAKN,MAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA+D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAA/D,CAtDJ,CAnBJ,EA4EI,oBAAC,KAAD;AAAO,QAAA,MAAM,EAAE,KAAK3B,KAAL,CAAWG,cAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKxB,KAAL,CAAWG,QAAX,CAAoBqD,OADzB,CADJ,EAII,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AAAQ,QAAA,OAAO,MAAf;AAAgB,QAAA,KAAK,EAAC,SAAtB;AACI,QAAA,OAAO,EAAE,KAAKJ,mBADlB;AAEI,QAAA,KAAK,EAAE;AAAEK,UAAAA,KAAK,EAAE;AAAT,SAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,CAJJ,CA5EJ,CAzBJ,CADJ,CADJ;AAsHH;;;;EAvPuBxE,S;;AAyP5B,IAAMyE,eAAe,GAAG,SAAlBA,eAAkB,CAAArC,KAAK,EAAI;AAC7B,SAAO;AACHlB,IAAAA,QAAQ,EAAEkB,KAAK,CAAClB;AADb,GAAP;AAGH,CAJD;;AAMA,IAAMwD,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAAC,QAAQ,EAAI;AACjC,SAAO;AACHT,IAAAA,KAAK,EAAE,eAACd,KAAD,EAAQwB,IAAR;AAAA,aAAiBD,QAAQ,CAAC/D,aAAa,CAACwC,KAAD,EAAQwB,IAAR,CAAd,CAAzB;AAAA,KADJ;AAEHZ,IAAAA,MAAM,EAAE,gBAACjC,WAAD,EAAcqB,KAAd,EAAqBwB,IAArB,EAA2B3C,QAA3B;AAAA,aAAwC0C,QAAQ,CAAC9D,cAAc,CAACkB,WAAD,EAAcqB,KAAd,EAAqBwB,IAArB,EAA2B3C,QAA3B,CAAf,CAAhD;AAAA;AAFL,GAAP;AAIH,CALD;;AAOA,eAAe9B,UAAU,CAACF,OAAO,CAACwE,eAAD,EAAkBC,gBAAlB,CAAP,CAA2C5D,aAA3C,CAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link, withRouter, Redirect } from 'react-router-dom';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, Input } from 'reactstrap';\nimport { loginSinhVien, signUpSinhVien } from '../../actions/sinhVienAction';\nimport '../../css/sinhVienLogin/style.css';\n\nclass LoginSinhVien extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            tenSinhVien: \"\",\n            tenTrong: false,\n            email: \"\",\n            emailTrong: false,\n            gioiTinh: \"Nam\",\n            matKhau: \"\",\n            matKhauTrong: false,\n            xacNhan: \"\",\n            xacNhanTrong: false,\n            trungNhau: true,\n            signUpError: false,\n            openErrorModal: false\n        }\n    }\n\n    componentWillReceiveProps = (nextProps) => {\n        if (nextProps.sinhVien.callapidone) {\n            if (nextProps.sinhVien.signUpSuccess || nextProps.sinhVien.loginSucces) {\n                console.log(\"SignUp Success\");\n                localStorage.setItem(\"signined\", nextProps.sinhVien.acc.success)\n                localStorage.setItem(\"userId\", nextProps.sinhVien.acc.data.sinhVienId);\n                localStorage.setItem(\"email\", nextProps.sinhVien.acc.data.emailSinhVien);\n                localStorage.setItem(\"tenSinhVien\", nextProps.sinhVien.acc.data.tenSinhVien);\n                localStorage.setItem(\"token\", nextProps.sinhVien.acc.token);\n                localStorage.setItem(\"gioiTinh\", nextProps.sinhVien.acc.data.gioiTinh);\n                localStorage.setItem(\"role\", \"sinhvien\");\n                this.props.history.push('/home');\n            } else {\n                if (!this.state.signUpError) {\n                    this.setState({\n                        openErrorModal: true,\n                        signUpError: true\n                    })\n                }\n            }\n        }\n    }\n\n    onClickSignUp = () => {\n        this.refs.cont.classList.toggle('s--signup')\n    }\n\n    thayDoiTenSinhVien = event => {\n        this.setState({\n            tenSinhVien: event.target.value\n        },\n            () => this.setState({\n                tenTrong: this.state.tenSinhVien.length > 0 ? false : true\n            })\n        )\n    }\n\n    thayDoiEmail = event => {\n        this.setState({\n            email: event.target.value\n        },\n            () => this.setState({\n                emailTrong: this.state.email.length > 0 ? false : true\n            })\n        )\n    }\n\n    thayDoiGioiTinh = event => {\n        this.setState({\n            gioiTinh: event.target.value\n        })\n    }\n\n    nhapMatKhau = event => {\n        this.setState({\n            matKhau: event.target.value\n        },\n            () => this.setState({\n                matKhauTrong: this.state.matKhau.length > 0 ? false : true\n            })\n        )\n    }\n\n    xacNhanMatKhau = event => {\n        this.setState({\n            xacNhan: event.target.value\n        },\n            () => this.setState({\n                xacNhanTrong: this.state.xacNhan.length > 0 ? false : true,\n                trungNhau: this.state.matKhau.indexOf(this.state.xacNhan) == 0 ? true : false\n            })\n        )\n    }\n\n    dangKi = () => {\n        if (this.state.tenSinhVien && this.state.email && this.state.matKhau && this.state.gioiTinh) {\n            this.props.signUp(this.state.tenSinhVien, this.state.email, this.state.matKhau, this.state.gioiTinh)\n        }\n        this.setState({\n            tenSinhVien: \"\",\n            email: \"\",\n            gioiTinh: \"Nam\",\n            matKhau: \"\",\n            xacNhan: \"\"\n        })\n    }\n\n    dangNhap = () => {\n        if (this.state.email && this.state.matKhau) {\n            this.props.login(this.state.email, this.state.matKhau);\n            this.setState({\n                email: \"\",\n                matKhau: \"\"\n            })\n        }\n    }\n\n    closeOpenErrorModal = () => {\n        this.setState({\n            openErrorModal: false,\n            tenSinhVien: \"\",\n            email: \"\",\n            gioiTinh: \"Nam\",\n            matKhau: \"\",\n            xacNhan: \"\"\n        })\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"cont\" ref=\"cont\">\n                    <div className=\"form sign-in\">\n                        <label>\n                            <span style={{ color: \"black\" }}>Email</span>\n                            <input type=\"email\" onChange={this.thayDoiEmail} />\n                            {this.state.emailTrong ?\n                                <span style={{ color: \"red\", fontSize: \"10px\" }} >\n                                    <i className=\"fas fa-exclamation-circle\"></i>\n                                    <span style={{ color: \"red\", fontSize: \"10px\" }}> Email trống</span>\n                                </span>\n                                : null}\n                        </label>\n                        <label>\n                            <span style={{ color: \"black\" }}>Mật khẩu</span>\n                            <input type=\"password\" onChange={this.nhapMatKhau} />\n                            {this.state.matKhauTrong ?\n                                <span style={{ color: \"red\", fontSize: \"10px\" }} >\n                                    <i className=\"fas fa-exclamation-circle\"></i>\n                                    <span style={{ color: \"red\", fontSize: \"10px\" }}> Mật khẩu trống</span>\n                                </span>\n                                : null}\n                        </label>\n                        <p className=\"forgot-pass\" style={{ color: \"black\" }}>Quên mật khẩu?</p>\n                        <button type=\"button\" class=\"submit\" onClick={this.dangNhap}><b>Đăng nhập</b></button>\n                    </div>\n                    <div className=\"sub-cont\">\n                        <div className=\"img\">\n                            <div className=\"img__text m--up\">\n                                <h2><b>HUST</b></h2>\n                                <center>\n                                    <p style={{ color: \"white\" }}>Một tình yêu - Một tương lai</p>\n                                </center>\n                            </div>\n                            <div className=\"img__text m--in\">\n                                <h2>HUST</h2>\n                                <center>\n                                    <p style={{ color: \"white\" }}>Một tình yêu - Một tương lai</p>\n                                </center>\n                            </div>\n                            <div className=\"img__btn\" onClick={this.onClickSignUp}>\n                                <span class=\"m--up\" >Đăng kí</span>\n                                <span class=\"m--in\">Đăng nhập</span>\n                            </div>\n                        </div>\n                        <div className=\"form sign-up\" style={{ marginTop: \"-0.5em\" }}>\n                            <label>\n                                <span style={{ color: \"black\" }}>Họ và Tên</span>\n                                <input type=\"text\" value={this.state.tenSinhVien} onChange={this.thayDoiTenSinhVien} />\n                                {this.state.tenTrong ?\n                                    <span style={{ color: \"red\", fontSize: \"10px\" }} >\n                                        <i className=\"fas fa-exclamation-circle\"></i>\n                                        <span style={{ color: \"red\", fontSize: \"10px\" }}> Họ và tên trống</span>\n                                    </span>\n                                    : null}\n                            </label>\n                            <label>\n                                <span style={{ color: \"black\" }}>Email</span>\n                                <input type=\"email\" value={this.state.email} onChange={this.thayDoiEmail} />\n                                {this.state.emailTrong ?\n                                    <span style={{ color: \"red\", fontSize: \"10px\" }} >\n                                        <i className=\"fas fa-exclamation-circle\"></i>\n                                        <span style={{ color: \"red\", fontSize: \"10px\" }}> Email trống</span>\n                                    </span>\n                                    : null}\n                            </label>\n                            <label>\n                                <span style={{ color: \"black\" }}>Giới tính  </span>\n                                <select onChange={this.thayDoiGioiTinh}>\n                                    <option value=\"Nam\">Nam</option>\n                                    <option value=\"Nữ\">Nữ</option>\n                                </select>\n                            </label>\n                            <label>\n                                <span style={{ color: \"black\" }}>Mật khẩu</span>\n                                <input type=\"password\" onChange={this.nhapMatKhau} />\n                                {this.state.matKhauTrong ?\n                                    <span style={{ color: \"red\", fontSize: \"10px\" }} >\n                                        <i className=\"fas fa-exclamation-circle\"></i>\n                                        <span style={{ color: \"red\", fontSize: \"10px\" }}> Mật khẩu trống</span>\n                                    </span>\n                                    : null}\n                            </label>\n                            <label>\n                                <span style={{ color: \"black\" }}>Xác nhận mật khẩu</span>\n                                <input type=\"password\" onChange={this.xacNhanMatKhau} />\n                                {this.state.xacNhanTrong ?\n                                    <span style={{ color: \"red\", fontSize: \"10px\" }} >\n                                        <i className=\"fas fa-exclamation-circle\"></i>\n                                        <span style={{ color: \"red\", fontSize: \"10px\" }}> Xác nhận mật khẩu trống</span>\n                                    </span>\n                                    : null}\n                                {!this.state.trungNhau ?\n                                    <span style={{ color: \"red\", fontSize: \"10px\" }} >\n                                        <i className=\"fas fa-exclamation-circle\"></i>\n                                        <span style={{ color: \"red\", fontSize: \"10px\" }}>Xác nhận không thành công</span>\n                                    </span>\n                                    : null}\n                            </label>\n                            <button type=\"button\" className=\"submit\" onClick={this.dangKi}><b>Đăng kí</b></button>\n\n                        </div>\n                        <Modal isOpen={this.state.openErrorModal} >\n                            <ModalBody>\n                                {this.props.sinhVien.message}\n                            </ModalBody>\n                            <ModalFooter>\n                                <Button outline color=\"primary\"\n                                    onClick={this.closeOpenErrorModal}\n                                    style={{ width: \"50px\" }}\n                                >OK</Button>\n                            </ModalFooter>\n                        </Modal>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\nconst mapStatetoProps = state => {\n    return {\n        sinhVien: state.sinhVien\n    }\n}\n\nconst mapActiontoProps = dispatch => {\n    return {\n        login: (email, pass) => dispatch(loginSinhVien(email, pass)),\n        signUp: (tenSinhVien, email, pass, gioiTinh) => dispatch(signUpSinhVien(tenSinhVien, email, pass, gioiTinh))\n    }\n}\n\nexport default withRouter(connect(mapStatetoProps, mapActiontoProps)(LoginSinhVien))"]},"metadata":{},"sourceType":"module"}