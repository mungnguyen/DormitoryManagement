{"ast":null,"code":"import _classCallCheck from \"/home/mung_nguyen/20182/Project/Code/DormitoryManagement/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/mung_nguyen/20182/Project/Code/DormitoryManagement/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/mung_nguyen/20182/Project/Code/DormitoryManagement/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/mung_nguyen/20182/Project/Code/DormitoryManagement/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/mung_nguyen/20182/Project/Code/DormitoryManagement/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/mung_nguyen/20182/Project/Code/DormitoryManagement/client/src/components/admin/loginPage.js\";\nimport React, { Component } from 'react';\nimport { Link, withRouter, Redirect } from 'react-router-dom';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, Input } from 'reactstrap';\nimport { connect } from 'react-redux';\nimport ModalChangePass from './loginPage/modalChangePass';\nimport '../../css/adminLogin/util.css';\nimport '../../css/adminLogin/main.css';\nimport { loginAdmin as _loginAdmin } from '../../actions/adminAction';\n\nvar LoginAdmin =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LoginAdmin, _Component);\n\n  function LoginAdmin(props) {\n    var _this;\n\n    _classCallCheck(this, LoginAdmin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LoginAdmin).call(this, props));\n\n    _this.componentWillReceiveProps = function (nextProps) {\n      if (nextProps.admin.callapidone) {\n        if (nextProps.admin.acc.success) {\n          console.log(\"LOGIN_SUCCESS\");\n          localStorage.setItem(\"signined\", nextProps.admin.acc.success);\n          localStorage.setItem(\"userId\", nextProps.admin.acc.data.adminId);\n          localStorage.setItem(\"taikhoan\", nextProps.admin.acc.data.tenAdmin);\n          localStorage.setItem(\"name\", nextProps.admin.acc.data.hoTen);\n          localStorage.setItem(\"token\", nextProps.admin.acc.token);\n          localStorage.setItem(\"role\", \"admin\");\n          console.log(nextProps.admin.acc.data.matKhauAdmin == \"12345\");\n\n          if (nextProps.admin.acc.data.matKhauAdmin == \"12345\" && !_this.state.flagChangePass) {\n            _this.setState({\n              doiMatKhau: true,\n              flagChangePass: true\n            });\n          } else {\n            _this.props.history.push('/admin/home');\n          }\n        } else {\n          console.log(\"LOGIN_FALSE\");\n\n          if (!_this.state.flagError) {\n            _this.setState({\n              openModal: true,\n              flagError: true\n            });\n          }\n        }\n      }\n    };\n\n    _this.nhapTaiKhoan = function (event) {\n      _this.setState({\n        taiKhoanRong: false,\n        matKhauRong: false,\n        taiKhoan: event.target.value\n      }, function () {\n        return _this.kiemTraNhapTaiKhoan();\n      });\n    };\n\n    _this.kiemTraNhapTaiKhoan = function () {\n      _this.setState({\n        taiKhoanRong: _this.state.taiKhoan.length > 0 ? null : true\n      });\n    };\n\n    _this.nhapMatKhau = function (event) {\n      _this.setState({\n        taiKhoanRong: false,\n        matKhauRong: false,\n        matKhau: event.target.value\n      }, function () {\n        return _this.kiemTraNhapMatKhau();\n      });\n    };\n\n    _this.kiemTraNhapMatKhau = function () {\n      _this.setState({\n        matKhauRong: _this.state.matKhau.length > 0 ? null : true\n      });\n    };\n\n    _this.dangNhap = function () {\n      if (_this.state.taiKhoan && _this.state.matKhau) {\n        _this.props.loginAdmin(_this.state.taiKhoan, _this.state.matKhau);\n\n        _this.setState({\n          taiKhoan: \"\",\n          matKhau: \"\"\n        });\n      }\n    };\n\n    _this.closeModal = function () {\n      _this.setState({\n        openModal: false,\n        taiKhoan: \"\",\n        matKhau: \"\"\n      });\n    };\n\n    _this.doiMatKhau = function () {\n      _this.setState({\n        doiMatKhau: false\n      });\n    };\n\n    _this.state = {\n      taiKhoan: \"\",\n      taiKhoanRong: false,\n      matKhauRong: false,\n      matKhau: \"\",\n      openModal: false,\n      doiMatKhau: false,\n      flagChangePass: false,\n      flagError: false\n    };\n    return _this;\n  }\n\n  _createClass(LoginAdmin, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"limiter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container-login100\",\n        style: {\n          paddingTop: \"0\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"wrap-login100\",\n        style: {\n          marginTop: \"0\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"login100-form-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        class: \"login100-form-title-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"\\u0110\\u0103ng nh\\u1EADp\"))), React.createElement(Form, {\n        className: \"login100-form validate-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"wrap-input100 validate-input m-b-26\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"label-input100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"T\\xEAn \\u0111\\u0103ng nh\\u1EADp\"), React.createElement(\"input\", {\n        className: \"input100\",\n        value: this.state.taiKhoan,\n        type: \"text\",\n        onChange: this.nhapTaiKhoan,\n        placeholder: \"Nh\\u1EADp t\\xEAn c\\u1EE7a b\\u1EA1n\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"focus-input100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, this.state.taiKhoanRong ? React.createElement(\"span\", {\n        style: {\n          color: \"red\",\n          fontSize: \"15px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-exclamation-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \" T\\xEAn \\u0111\\u0103ng nh\\u1EADp tr\\u1ED1ng\")) : null), React.createElement(\"div\", {\n        className: \"wrap-input100 validate-input m-b-18\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"label-input100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"M\\u1EADt kh\\u1EA9u\"), React.createElement(\"input\", {\n        className: \"input100\",\n        type: \"password\",\n        value: this.state.matKhau,\n        onChange: this.nhapMatKhau,\n        placeholder: \"Nh\\u1EADp m\\u1EADt kh\\u1EA9u\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"focus-input100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, this.state.matKhauRong ? React.createElement(\"span\", {\n        style: {\n          color: \"red\",\n          fontSize: \"15px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-exclamation-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, \" M\\u1EADt kh\\u1EA9u tr\\u1ED1ng\")) : null), React.createElement(\"div\", {\n        className: \"flex-sb-m w-full p-b-30\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"contact100-form-checkbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"input-checkbox100\",\n        id: \"ckb1\",\n        type: \"checkbox\",\n        name: \"remember-me\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"label-checkbox100\",\n        for: \"ckb1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"Remember me\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"#\",\n        className: \"txt1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"Qu\\xEAn m\\u1EADt kh\\u1EA9u?\"))), React.createElement(\"div\", {\n        className: \"container-login100-form-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(Button, {\n        class: \"login100-form-btn\",\n        onClick: this.dangNhap,\n        style: {\n          marginLeft: \"5.5em\",\n          backgroundColor: \"blue\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, \"\\u0110\\u0103ng nh\\u1EADp\"))))), React.createElement(Modal, {\n        isOpen: this.state.openModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(ModalBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, \"T\\xE0i kho\\u1EA3n ho\\u1EB7c m\\u1EADt kh\\u1EA9u kh\\xF4ng ch\\xEDnh x\\xE1c\"), React.createElement(ModalFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"primary\",\n        onClick: this.closeModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, \"OK\"))), React.createElement(ModalChangePass, {\n        open: this.state.doiMatKhau,\n        doiMatKhau: this.doiMatKhau,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return LoginAdmin;\n}(Component);\n\nvar mapStatetoProps = function mapStatetoProps(state) {\n  return {\n    admin: state.admin\n  };\n};\n\nvar mapActiontoProps = function mapActiontoProps(dispatch) {\n  return {\n    loginAdmin: function loginAdmin(name, pass) {\n      return dispatch(_loginAdmin(name, pass));\n    }\n  };\n};\n\nexport default withRouter(connect(mapStatetoProps, mapActiontoProps)(LoginAdmin));","map":{"version":3,"sources":["/home/mung_nguyen/20182/Project/Code/DormitoryManagement/client/src/components/admin/loginPage.js"],"names":["React","Component","Link","withRouter","Redirect","Modal","ModalHeader","ModalBody","ModalFooter","Button","Form","Input","connect","ModalChangePass","loginAdmin","LoginAdmin","props","componentWillReceiveProps","nextProps","admin","callapidone","acc","success","console","log","localStorage","setItem","data","adminId","tenAdmin","hoTen","token","matKhauAdmin","state","flagChangePass","setState","doiMatKhau","history","push","flagError","openModal","nhapTaiKhoan","event","taiKhoanRong","matKhauRong","taiKhoan","target","value","kiemTraNhapTaiKhoan","length","nhapMatKhau","matKhau","kiemTraNhapMatKhau","dangNhap","closeModal","paddingTop","marginTop","color","fontSize","marginLeft","backgroundColor","mapStatetoProps","mapActiontoProps","dispatch","name","pass"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link, withRouter, Redirect } from 'react-router-dom';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, Input} from 'reactstrap';\nimport { connect } from 'react-redux';\nimport ModalChangePass from './loginPage/modalChangePass'\nimport '../../css/adminLogin/util.css';\nimport '../../css/adminLogin/main.css';\nimport { loginAdmin } from '../../actions/adminAction';\n\nclass LoginAdmin extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            taiKhoan: \"\",\n            taiKhoanRong: false,\n            matKhauRong: false,\n            matKhau: \"\",\n            openModal: false,\n            doiMatKhau: false,\n            flagChangePass: false,\n            flagError: false\n        }\n    }\n\n    componentWillReceiveProps = (nextProps) => {\n        if(nextProps.admin.callapidone) {\n            if(nextProps.admin.acc.success) {\n                console.log(\"LOGIN_SUCCESS\")\n                localStorage.setItem(\"signined\", nextProps.admin.acc.success)\n                localStorage.setItem(\"userId\", nextProps.admin.acc.data.adminId);\n                localStorage.setItem(\"taikhoan\", nextProps.admin.acc.data.tenAdmin);\n                localStorage.setItem(\"name\", nextProps.admin.acc.data.hoTen);\n                localStorage.setItem(\"token\", nextProps.admin.acc.token);\n                localStorage.setItem(\"role\", \"admin\");\n                console.log(nextProps.admin.acc.data.matKhauAdmin == \"12345\");\n\n                if (nextProps.admin.acc.data.matKhauAdmin == \"12345\" && (!this.state.flagChangePass)) {\n                    this.setState({\n                        doiMatKhau: true,\n                        flagChangePass: true\n                    })\n                } else {\n                    this.props.history.push('/admin/home');\n                }\n            } else {\n                console.log(\"LOGIN_FALSE\");\n                if (!this.state.flagError) {\n                    this.setState({\n                        openModal: true,\n                        flagError: true\n                    });\n                }\n            }\n        }\n    }\n    \n\n    nhapTaiKhoan = (event) => {\n        this.setState({\n            taiKhoanRong: false,\n            matKhauRong: false,\n            taiKhoan: event.target.value\n        },\n            () => this.kiemTraNhapTaiKhoan()\n        );\n    }\n\n    kiemTraNhapTaiKhoan = () => {\n        this.setState({\n            taiKhoanRong: this.state.taiKhoan.length > 0 ? null : true\n        })\n    }\n\n    nhapMatKhau = (event) => {\n        this.setState({\n            taiKhoanRong: false,\n            matKhauRong: false,\n            matKhau: event.target.value\n        },\n            () => this.kiemTraNhapMatKhau()\n        );\n    }\n       \n\n    kiemTraNhapMatKhau = () => {\n        this.setState({\n            matKhauRong: this.state.matKhau.length > 0 ? null : true\n        });\n    }\n\n    dangNhap = () => {\n        if (this.state.taiKhoan && this.state.matKhau) {\n            this.props.loginAdmin(this.state.taiKhoan, this.state.matKhau)\n            this.setState({\n                taiKhoan: \"\",\n                matKhau: \"\",\n            });\n        }\n    }\n\n    closeModal = () => {\n        this.setState({\n            openModal: false,\n            taiKhoan: \"\",\n            matKhau: \"\"\n        })\n    }\n\n    doiMatKhau = () => {\n        this.setState({\n            doiMatKhau: false\n        });\n    }\n\n    render() {\n        return(\n            <div className=\"limiter\">\n                <div className=\"container-login100\" style={{paddingTop: \"0\"}}>\n                    <div className=\"wrap-login100\" style={{marginTop: \"0\"}}>\n                        <div className=\"login100-form-title\">\n                            <span class=\"login100-form-title-1\">\n                                <b>Đăng nhập</b>\n                            </span>\n                        </div>\n\n                        <Form className=\"login100-form validate-form\">\n                            <div className=\"wrap-input100 validate-input m-b-26\">\n                                <span className=\"label-input100\">Tên đăng nhập</span>\n                                <input className=\"input100\" \n                                       value={this.state.taiKhoan} \n                                       type=\"text\" \n                                       onChange={this.nhapTaiKhoan} \n                                       placeholder=\"Nhập tên của bạn\" />\n                                <span className=\"focus-input100\"></span>\n                            </div>\n                            <span>\n                            { this.state.taiKhoanRong ?\n                                    <span style={{ color: \"red\", fontSize: \"15px\"}} >\n                                        <i className=\"fas fa-exclamation-circle\"></i>\n                                        <span> Tên đăng nhập trống</span>\n                                    </span>\n                                    :null}\n                            </span>\n\n                            <div className=\"wrap-input100 validate-input m-b-18\">\n                                <span className=\"label-input100\">Mật khẩu</span>\n                                <input className=\"input100\" \n                                       type=\"password\" \n                                       value={this.state.matKhau} \n                                       onChange={this.nhapMatKhau} \n                                       placeholder=\"Nhập mật khẩu\" />\n                                <span className=\"focus-input100\"></span>\n                            </div>\n                            <span>\n                            { this.state.matKhauRong ?\n                                    <span style={{ color: \"red\", fontSize: \"15px\"}} >\n                                        <i className=\"fas fa-exclamation-circle\"></i>\n                                        <span> Mật khẩu trống</span>\n                                    </span>\n                                    :null}\n                            </span>\n\n                            <div className=\"flex-sb-m w-full p-b-30\">\n                                <div className=\"contact100-form-checkbox\">\n                                    <input className=\"input-checkbox100\" id=\"ckb1\" type=\"checkbox\" name=\"remember-me\" />\n                                    <label className=\"label-checkbox100\" for=\"ckb1\">\n                                        Remember me\n                                    </label>\n                                </div>\n\n                                <div>\n                                    <a href=\"#\" className=\"txt1\">\n                                        Quên mật khẩu?\n                                    </a>\n                                </div>\n                            </div>\n\n                            <div className=\"container-login100-form-btn\">\n                                <Button class=\"login100-form-btn\" onClick={this.dangNhap} style={{marginLeft: \"5.5em\", backgroundColor:\"blue\"}}>\n                                    Đăng nhập\n                                </Button>\n                            </div>\n                        </Form>\n                    </div>\n                </div>\n\n                {/* Thong bao loi */}\n                <Modal isOpen={this.state.openModal}>\n                    <ModalBody>\n                        Tài khoản hoặc mật khẩu không chính xác\n                    </ModalBody>\n                    <ModalFooter>\n                        <Button color=\"primary\" onClick={this.closeModal}>\n                            OK\n                        </Button>\n                    </ModalFooter>\n                </Modal>\n\n                {/* Doi mat khau */}\n                <ModalChangePass open={this.state.doiMatKhau}\n                                 doiMatKhau={this.doiMatKhau}\n                />\n            </div>\n        )\n    }\n}\n\nconst mapStatetoProps = state => {\n    return {\n        admin: state.admin\n    }\n}\n\nconst mapActiontoProps = dispatch => {\n    return {\n        loginAdmin: (name, pass) => (dispatch(loginAdmin(name, pass)))\n    }\n}\n\nexport default withRouter( connect (mapStatetoProps, mapActiontoProps)( LoginAdmin ))"]},"metadata":{},"sourceType":"module"}